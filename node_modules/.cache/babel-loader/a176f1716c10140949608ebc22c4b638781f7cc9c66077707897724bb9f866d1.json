{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nethology_diploma\\\\frontend\\\\src\\\\components\\\\FileItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './FileItem.css';\nimport { formatISODate } from '../utils/CommonHandles';\nimport Modal from './Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileItem = ({\n  file,\n  handleDownload,\n  handleDelete,\n  userId = ''\n}) => {\n  _s();\n  const [showModal, setShowModal] = useState(false);\n  const [comment, setComment] = useState(file.commentary || '');\n  const handleAddComment = () => {\n    setShowModal(true);\n  };\n  const handleCloseModal = () => {\n    setShowModal(false);\n  };\n  const handleSaveComment = () => {\n    // Здесь можно сделать API запрос для сохранения комментария на сервере\n    // Для простоты добавим комментарий локально\n    file.commentary = comment;\n    setShowModal(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fileContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fileName\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        onClick: () => handleDownload(file.id),\n        children: [\"\\u0418\\u043C\\u044F: \", file.filename]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u0414\\u0430\\u0442\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438: \", formatISODate(file.uploaded_date)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u0420\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u0438\\u0435: \", file.extension]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), file.commentary && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439: \", file.commentary]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440: \", Math.round(file.size / 1024), \"kb\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), file.last_download_date && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0433\\u043E \\u0441\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F: \", formatISODate(file.last_download_date)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fileActions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-button\",\n        onClick: () => !userId ? handleDelete(file.id) : handleDelete(userId, file.id),\n        children: \"DELETE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"coment-button\",\n        onClick: handleAddComment,\n        children: \"Add comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"share-button\",\n        children: \"Share link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      handleClose: handleCloseModal,\n      handleSave: handleSaveComment,\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: comment,\n        onChange: e => setComment(e.target.value),\n        placeholder: \"Add your comment here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, file.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_s(FileItem, \"kTdQNRbWCuIQ+YA7Vgm4+caHlJY=\");\n_c = FileItem;\nexport default FileItem;\nvar _c;\n$RefreshReg$(_c, \"FileItem\");","map":{"version":3,"names":["React","useState","formatISODate","Modal","jsxDEV","_jsxDEV","FileItem","file","handleDownload","handleDelete","userId","_s","showModal","setShowModal","comment","setComment","commentary","handleAddComment","handleCloseModal","handleSaveComment","className","children","href","onClick","id","filename","fileName","_jsxFileName","lineNumber","columnNumber","uploaded_date","extension","Math","round","size","last_download_date","show","handleClose","handleSave","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["D:/Nethology_diploma/frontend/src/components/FileItem.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './FileItem.css';\r\nimport { formatISODate } from '../utils/CommonHandles';\r\nimport Modal from './Modal';\r\n\r\nconst FileItem = ({ file, handleDownload, handleDelete, userId = '' }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [comment, setComment] = useState(file.commentary || '');\r\n\r\n  const handleAddComment = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleSaveComment = () => {\r\n    // Здесь можно сделать API запрос для сохранения комментария на сервере\r\n    // Для простоты добавим комментарий локально\r\n    file.commentary = comment;\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className='fileContainer' key={file.id}>\r\n      <div className='fileName'>\r\n        <a href=\"#\" onClick={() => handleDownload(file.id)}>Имя: {file.filename}</a>\r\n        <span>Дата загрузки: {formatISODate(file.uploaded_date)}</span>\r\n        <span>Расширение: {file.extension}</span>\r\n        {file.commentary && <span>Коментарий: {file.commentary}</span>}\r\n        <span>Размер: {Math.round(file.size / 1024)}kb</span>\r\n        {file.last_download_date && <span>Дата последнего скачивания: {formatISODate(file.last_download_date)}</span>}\r\n      </div>\r\n      <div className='fileActions'>\r\n        <button className='delete-button' onClick={() => (!userId ? handleDelete(file.id) : handleDelete(userId, file.id))}>DELETE</button>\r\n        <button className='coment-button' onClick={handleAddComment}>Add comment</button>\r\n        <button className='share-button'>Share link</button>\r\n      </div>\r\n      <Modal show={showModal} handleClose={handleCloseModal} handleSave={handleSaveComment}>\r\n        <textarea\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n          placeholder=\"Add your comment here\"\r\n        />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileItem;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}